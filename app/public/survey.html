<!DOCTYPE html>
<html lang="en-us">


<head>
    <meta charset="UTF-8">
    <title>FriendFinder</title>

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

    

</head>

<body style="background-color: rgb(247, 220, 225)">
    <div class="container">

        <h2>Survey Questions</h2>
        <hr>
        <h3>About You</h3>
        <h4>Name (Required)</h4>
        <input type="text" id="name" class="form-control" required>
        <h4>Link to Photo Image (Required)</h4>
        <input type="text" id="photoLink" class="form-control" required>
        <hr>
        <h3>Question 1</h3>
        <h4>You see beauty in things that others might not notice.</h4>
        <select class="chosen-select" id="inputGroupSelect01">
            <option value>Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <h3>Question 2</h3>
        <h4>You value cooperation over competition.</h4>
        <select class="chosen-select" id="inputGroupSelect02">
            <option value>Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <h3>Question 3</h3>
        <h4>You like to solve complex problems.</h4>
        <select class="chosen-select" id="inputGroupSelect03">
            <option value>Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <h3>Question 4</h3>
        <h4>You like to visit new places.</h4>
        <select class="chosen-select" id="inputGroupSelect04">
            <option value>Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <h3>Question 5</h3>
        <h4>You believe that there is no absolute right and wrong.</h4>
        <select class="chosen-select" id="inputGroupSelect05">
            <option value>Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <h3>Question 6</h3>
        <h4>You would rather spend time with a few close friends than a large number of casual acquaintances.</h4>
        <select class="chosen-select" id="inputGroupSelect06">
            <option value>Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <h3>Question 7</h3>
        <h4>You enjoy spending quiet time at home.</h4>
        <select class="chosen-select" id="inputGroupSelect07">
            <option value>Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <h3>Question 8</h3>
        <h4>You would rather backpack through a state park than lie on a tropical beach. </h4>
        <select class="chosen-select" id="inputGroupSelect08">
            <option value>Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <h3>Question 9</h3>
        <h4>Friends and family are of utmost importance.</h4>
        <select class="chosen-select" id="inputGroupSelect09">
            <option value>Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <h3>Question 10</h3>
        <h4>You live life as if there is no tomorrow.</h4>
        <select class="chosen-select" id="inputGroupSelect10">
            <option value>Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <button type="submit" class="btn btn-danger btn-lg btn-block" id="submit"><i class="fa fa-heart"></i>
            Submit</button>




        <footer class="footer">

            <div class="container">
                <p>
                    <a href="api/friends" style="color:red">API Friends List</a>
                    |
                    <a href="https://github.com/joann675/FriendFinder.git" style="color:red">GitHub Repo</a>
                </p>
            </div>
        </footer>
    </div>

    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">Best Match</h2>
                    <button type="button" class="close" data-dismiss="modal">Ã—</button>
                </div>
                <div class="modal-body">
                    <h2 id="matchname"></h2>
                    <img id="matchimage" src="" alt="Image not available" height="200" width="200">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

</body>

</html>

<!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->
<script type="text/javascript">

    function anyFieldIsEmpty() {
        if ($("#name").val() === "")
            return true;
        if ($("#photoLink").val() === "")
            return true;

        if ($("#inputGroupSelect01").val() === "")
            return true;
        if ($("#inputGroupSelect02").val() === "")
            return true;
        if ($("#inputGroupSelect03").val() === "")
            return true;
        if ($("#inputGroupSelect04").val() === "")
            return true;
        if ($("#inputGroupSelect05").val() === "")
            return true;
        if ($("#inputGroupSelect06").val() === "")
            return true;
        if ($("#inputGroupSelect07").val() === "")
            return true;
        if ($("#inputGroupSelect08").val() === "")
            return true;
        if ($("#inputGroupSelect09").val() === "")
            return true;
        if ($("#inputGroupSelect10").val() === "")
            return true;
        return false;

    }
    $("#submit").on("click", function (event) {
        event.preventDefault();

        // validate
        if (anyFieldIsEmpty()) {

            alert("Please fill out all fields before submitting!");
        }
        else {

            // Here we grab the form elements
            var myScores = [];

           
            
            myScores.push($("#inputGroupSelect01").val());
            myScores.push($("#inputGroupSelect02").val());
            myScores.push($("#inputGroupSelect03").val());
            myScores.push($("#inputGroupSelect04").val());
            myScores.push($("#inputGroupSelect05").val());
            myScores.push($("#inputGroupSelect06").val());
            myScores.push($("#inputGroupSelect07").val());
            myScores.push($("#inputGroupSelect08").val());
            myScores.push($("#inputGroupSelect09").val());
            myScores.push($("#inputGroupSelect10").val());
         

            var newfriend = {
                name: $("#name").val().trim(),
                photo: $("#photoLink").val().trim(),
                scores: myScores
            };

            console.log(newfriend);

            $.post("/api/friends", newfriend,
                function (data) {

                    console.log(data.name);


                    $("#matchname").text(data.name);
                    $("#matchimage").attr("src", data.photo);

                    // Show the modal with the best match
                    $("#myModal").modal("toggle");

                    // Clear the form when submitting
                    $("#name").val("");
                    $("#photoLink").val("");
                   
                    $("#inputGroupSelect01").val("");
                    $("#inputGroupSelect02").val("");
                    $("#inputGroupSelect03").val("");
                    $("#inputGroupSelect04").val("");
                    $("#inputGroupSelect05").val("");
                    $("#inputGroupSelect06").val("");
                    $("#inputGroupSelect07").val("");
                    $("#inputGroupSelect08").val("");
                    $("#inputGroupSelect09").val("");
                    $("#inputGroupSelect10").val("");

                });
        }

    });


</script>